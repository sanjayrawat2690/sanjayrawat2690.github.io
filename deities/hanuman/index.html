<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lord Hanuman Aarti - Aarti Sangrah</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/autocomplete.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <!-- Logo (Om symbol) -->
            <a href="/" class="logo-link">
                <div class="om-logo">ॐ</div>
            </a>
            
            <!-- Site title -->
            <div class="site-title">
                <h1>आरती संग्रह</h1>
                <h2>Aarti Sangrah</h2>
            </div>
            
            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" class="search-input" id="search-input" placeholder="Search for deities or aartis...">
                <button id="search-button" class="search-button">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            
            <!-- Navigation menu -->
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <main>
            <div class="deity-page">
                <div class="deity-header">
                    <div id="deity-image" class="deity-image"></div>
                    <h1 id="deity-name">Deity Name</h1>
                </div>

                <div class="language-toggle">
                    <button id="hindi-btn" class="active">हिंदी</button>
                    <button id="english-btn">English</button>
                </div>

                <div class="aarti-cards" id="aarti-cards">
                    <!-- Aarti cards will be populated here -->
                </div>

                <div class="aarti-content">
                    <h2 id="aarti-title">Aarti Title</h2>
                    <div id="aarti-lyrics" class="aarti-lyrics">
                        <!-- Aarti text will be populated here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Aarti Sangrah</h3>
                <p>A digital collection of traditional Hindu devotional hymns</p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Resources</h3>
                <ul>
                    <li><a href="https://en.wikipedia.org/wiki/Aarti" target="_blank">About Aarti</a></li>
                    <li><a href="#">Terms of Use</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2023 Aarti Sangrah. Created with devotion and love.</p>
            <p><a href="/admin" class="admin-link">Manage Images</a></p>
        </div>
    </footer>

    <script src="/search.js"></script>
    <script src="/data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get deity ID from URL path
            const pathParts = window.location.pathname.split('/');
            const deityId = pathParts[pathParts.length - 1];
            
            // Find the deity data
            const currentDeity = deitiesData.find(d => d.id === deityId);
            if (!currentDeity) {
                window.location.href = '/'; // Redirect to home if deity not found
                return;
            }
            
            // Get aarti ID from URL query parameter if any
            const urlParams = new URLSearchParams(window.location.search);
            const aartiId = urlParams.get('aarti');
            
            // Update page title
            document.title = `${currentDeity.name} Aarti - Aarti Sangrah`;
            
            // Update content
            document.getElementById('deity-name').textContent = currentDeity.name;
            
            // Add deity image - fix path to be from root
            const deityImageContainer = document.getElementById('deity-image');
            if (deityImageContainer) {
                deityImageContainer.style.backgroundImage = `url('/${currentDeity.image}')`;
            }
            
            // Current language state (default: Hindi)
            let currentLanguage = 'hindi';
            
            // Current selected aarti
            let currentAarti = null;
            
            // Handle both old format (single aarti) and new format (multiple aartis)
            let aartis = currentDeity.aartis;
            if (!aartis) {
                // Convert old format to new format on the fly
                aartis = [{
                    id: `${deityId}-1`,
                    title: "आरती",
                    hindi: currentDeity.aarti || "Aarti text unavailable",
                    english: currentDeity.aartiEnglish || "English translation not available"
                }];
            }
            
            // Populate aarti cards
            const aartiCardsContainer = document.getElementById('aarti-cards');
            
            aartis.forEach(aarti => {
                const aartiCard = document.createElement('div');
                aartiCard.className = 'aarti-card';
                aartiCard.dataset.aartiId = aarti.id;
                
                const title = document.createElement('h4');
                title.textContent = aarti.title;
                
                const preview = document.createElement('p');
                // Show just the first line of the aarti for preview
                const previewText = aarti.hindi.split('\n')[0];
                preview.textContent = previewText;
                
                aartiCard.appendChild(title);
                aartiCard.appendChild(preview);
                
                aartiCard.addEventListener('click', () => {
                    // Update URL with the selected aarti ID without reloading the page
                    const newUrl = new URL(window.location);
                    newUrl.searchParams.set('aarti', aarti.id);
                    window.history.pushState({}, '', newUrl);
                    
                    selectAarti(aarti.id);
                });
                
                aartiCardsContainer.appendChild(aartiCard);
            });
            
            // If aartiId is not specified or not found, use the first aarti
            let initialAartiId = aartiId;
            if (!initialAartiId || !aartis.find(a => a.id === initialAartiId)) {
                initialAartiId = aartis[0].id;
            }
            
            // Select the initial aarti
            selectAarti(initialAartiId);
            
            // Set up language toggle buttons
            const hindiBtn = document.getElementById('hindi-btn');
            const englishBtn = document.getElementById('english-btn');
            
            hindiBtn.addEventListener('click', () => {
                if (currentLanguage !== 'hindi') {
                    currentLanguage = 'hindi';
                    updateButtonStates();
                    updateAartiText();
                }
            });
            
            englishBtn.addEventListener('click', () => {
                if (currentLanguage !== 'english') {
                    currentLanguage = 'english';
                    updateButtonStates();
                    updateAartiText();
                }
            });
            
            // Function to update button active states
            function updateButtonStates() {
                hindiBtn.classList.toggle('active', currentLanguage === 'hindi');
                englishBtn.classList.toggle('active', currentLanguage === 'english');
            }
            
            // Function to select an aarti
            function selectAarti(id) {
                // Find the selected aarti
                currentAarti = aartis.find(a => a.id === id);
                
                if (!currentAarti) {
                    return;
                }
                
                // Update active card
                const aartiCards = document.querySelectorAll('.aarti-card');
                aartiCards.forEach(card => {
                    card.classList.toggle('active', card.dataset.aartiId === id);
                });
                
                // Update aarti title
                document.getElementById('aarti-title').textContent = currentAarti.title;
                
                // Update the aarti text
                updateAartiText();
            }
            
            // Function to update aarti text based on selected language
            function updateAartiText() {
                if (!currentAarti) {
                    return;
                }
                
                const aartiLyrics = document.getElementById('aarti-lyrics');
                
                if (currentLanguage === 'hindi') {
                    aartiLyrics.textContent = currentAarti.hindi;
                    aartiLyrics.style.fontFamily = "'Arial', sans-serif";
                } else {
                    // Show English translation
                    aartiLyrics.textContent = currentAarti.english || "English translation not available yet.";
                    aartiLyrics.style.fontFamily = "'Arial', sans-serif";
                }
            }
        });
    </script>

    <script>
        // Single deity data for hanuman
        const currentDeity = {"id":"hanuman","name":"Lord Hanuman","image":"images/hanuman.jpg","aarti":"आरती कीजै हनुमान लला की।दुष्ट दलन रघुनाथ कला की॥\n\nजाके बल से गिरिवर कांपे।रोग दोष जाके निकट न झांके॥\n\nअंजनि पुत्र महा बलदाई।सन्तन के प्रभु सदा सहाई॥\n\nदे बीरा रघुनाथ पठाए।लंका जारि सिया सुधि लाए॥\n\nलंका सो कोट समुद्र-सी खाई।जात पवनसुत बार न लाई॥\n\nलंका जारि असुर संहारे।सियारामजी के काज सवारे॥\n\nलक्ष्मण मूर्छित पड़े सकारे।आनि संजीवन प्राण उबारे॥\n\nपैठि पाताल तोरि जम-कारे।अहिरावण की भुजा उखारे॥\n\nबाएं भुजा असुरदल मारे।दाहिने भुजा संतजन तारे॥\n\nसुर नर मुनि आरती उतारें।जय जय जय हनुमान उचारें॥\n\nकंचन थार कपूर लौ छाई।आरती करत अंजना माई॥\n\nजो हनुमानजी की आरती गावे।बसि बैकुण्ठ परम पद पावे॥","aartiEnglish":"Aarti Kije Hanuman Lala Ki।Dusht Dalan Ragunath Kala Ki॥\n\nJake Bal Se Girivar Kaanpe।Rog Dosh Ja Ke Nikat Na Jhaanke॥\n\nAnjani Putra Maha Baldaaee।Santan Ke Prabhu Sada Sahai॥\n\nDe Beera Raghunath Pathaaye।Lanka Jaari Siya Sudhi Laaye॥\n\nLanka So Kot Samundra-Si Khai।Jaat Pavan Sut Baar Na Lai॥\n\nLanka Jaari Asur Sanhare।Siyaramji Ke Kaaj Sanvare॥\n\nLakshman Moorchhit Pade Sakaare।Aani Sajeevan Pran Ubaare॥\n\nPaithi Pataal Tori Jam-kaare।Ahiravan Ke Bhuja Ukhaare॥\n\nBaayen Bhuja Asur Dal Mare।Daahine Bhuja Santjan Tare॥\n\nSur Nar Muni Aarti Utare।Jai Jai Jai Hanuman Uchaare॥\n\nKanchan Thaar Kapoor Lau Chhaai।Aarti Karat Anjana Maai॥\n\nJo Hanumanji Ki Aarti Gaave।Basi Baikunth Param Pad Pave॥"};
        document.addEventListener('DOMContentLoaded', () => {
            // Get aarti ID from URL query parameter if any
            const urlParams = new URLSearchParams(window.location.search);
            const aartiId = urlParams.get('aarti');
            
            // Update page title
            document.title = `Lord Hanuman Aarti - Aarti Sangrah`;
            
            // Update content
            document.getElementById('deity-name').textContent = 'Lord Hanuman';
            
            // Add deity image - fix path to be from root
            const deityImageContainer = document.getElementById('deity-image');
            if (deityImageContainer) {
                deityImageContainer.style.backgroundImage = `url('/images/hanuman.jpg')`;
            }
            
            // Current language state (default: Hindi)
            let currentLanguage = 'hindi';
            
            // Current selected aarti
            let currentAarti = null;
            
            // Handle both old format (single aarti) and new format (multiple aartis)
            let aartis = currentDeity.aartis;
            if (!aartis) {
                // Convert old format to new format on the fly
                aartis = [{
                    id: `hanuman-1`,
                    title: "आरती",
                    hindi: currentDeity.aarti || "Aarti text unavailable",
                    english: currentDeity.aartiEnglish || "English translation not available"
                }];
            }
            
            // Populate aarti cards
            const aartiCardsContainer = document.getElementById('aarti-cards');
            
            aartis.forEach(aarti => {
                const aartiCard = document.createElement('div');
                aartiCard.className = 'aarti-card';
                aartiCard.dataset.aartiId = aarti.id;
                
                const title = document.createElement('h4');
                title.textContent = aarti.title;
                
                const preview = document.createElement('p');
                // Show just the first line of the aarti for preview
                const previewText = aarti.hindi.split('\n')[0];
                preview.textContent = previewText;
                
                aartiCard.appendChild(title);
                aartiCard.appendChild(preview);
                
                aartiCard.addEventListener('click', () => {
                    // Update URL with the selected aarti ID without reloading the page
                    const newUrl = new URL(window.location);
                    newUrl.searchParams.set('aarti', aarti.id);
                    window.history.pushState({}, '', newUrl);
                    
                    selectAarti(aarti.id);
                });
                
                aartiCardsContainer.appendChild(aartiCard);
            });
            
            // If aartiId is not specified or not found, use the first aarti
            let initialAartiId = aartiId;
            if (!initialAartiId || !aartis.find(a => a.id === initialAartiId)) {
                initialAartiId = aartis[0].id;
            }
            
            // Select the initial aarti
            selectAarti(initialAartiId);
            
            // Set up language toggle buttons
            const hindiBtn = document.getElementById('hindi-btn');
            const englishBtn = document.getElementById('english-btn');
            
            hindiBtn.addEventListener('click', () => {
                if (currentLanguage !== 'hindi') {
                    currentLanguage = 'hindi';
                    updateButtonStates();
                    updateAartiText();
                }
            });
            
            englishBtn.addEventListener('click', () => {
                if (currentLanguage !== 'english') {
                    currentLanguage = 'english';
                    updateButtonStates();
                    updateAartiText();
                }
            });
            
            // Function to update button active states
            function updateButtonStates() {
                hindiBtn.classList.toggle('active', currentLanguage === 'hindi');
                englishBtn.classList.toggle('active', currentLanguage === 'english');
            }
            
            // Function to select an aarti
            function selectAarti(id) {
                // Find the selected aarti
                currentAarti = aartis.find(a => a.id === id);
                
                if (!currentAarti) {
                    return;
                }
                
                // Update active card
                const aartiCards = document.querySelectorAll('.aarti-card');
                aartiCards.forEach(card => {
                    card.classList.toggle('active', card.dataset.aartiId === id);
                });
                
                // Update aarti title
                document.getElementById('aarti-title').textContent = currentAarti.title;
                
                // Update the aarti text
                updateAartiText();
            }
            
            // Function to update aarti text based on selected language
            function updateAartiText() {
                if (!currentAarti) {
                    return;
                }
                
                const aartiLyrics = document.getElementById('aarti-lyrics');
                
                if (currentLanguage === 'hindi') {
                    aartiLyrics.textContent = currentAarti.hindi;
                    aartiLyrics.style.fontFamily = "'Arial', sans-serif";
                } else {
                    // Show English translation
                    aartiLyrics.textContent = currentAarti.english || "English translation not available yet.";
                    aartiLyrics.style.fontFamily = "'Arial', sans-serif";
                }
            }
        });
    </script>
</body>
</html> 